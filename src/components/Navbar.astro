---
// Navigation links for A2M Concept single-page site
const navLinks = [
	{ href: "#accueil", label: "Accueil" },
	{ href: "#a-propos", label: "À propos" },
	{ href: "#engagements", label: "Engagements" },
	{ href: "#notre-metier", label: "Notre métier" },
	{ href: "#realisations", label: "Réalisations" },
	{ href: "#faq", label: "FAQ" },
	{ href: "#contact", label: "Contact" }
];
---

<nav class="w-full bg-dark-900 border-b border-dark-800">
	<div class="container mx-auto px-4 py-4 max-w-7xl">
		<!-- Mobile & Desktop: Logo centered -->
		<div class="relative flex items-center justify-center">
			<!-- Logo -->
			<a href="#accueil" class="flex items-center transition-opacity hover:opacity-80">
				<img
					src="/logo.svg"
					alt="A2M Concept - Carrelage et Rénovation"
					width="180"
					height="60"
					class="h-32 md:h-40 w-auto"
				/>
			</a>

			<!-- Hamburger Button (Mobile only) - positioned absolute right -->
			<button
				id="menu-toggle"
				type="button"
				class="md:hidden absolute right-0 flex flex-col gap-1.5 p-2 rounded-lg hover:bg-dark-800 transition-colors"
				aria-label="Toggle menu"
				aria-expanded="false"
			>
				<span class="block w-6 h-0.5 bg-white transition-transform"></span>
				<span class="block w-6 h-0.5 bg-white transition-opacity"></span>
				<span class="block w-6 h-0.5 bg-white transition-transform"></span>
			</button>
		</div>

		<!-- Navigation Links -->
		<!-- Mobile: Hidden by default, shown when menu is open -->
		<!-- Desktop: Always visible horizontal layout -->
		<div
			id="menu"
			class="hidden md:flex md:items-center md:justify-center mt-4 md:mt-4"
		>
			<ul class="flex flex-col md:flex-row gap-2 md:gap-6 w-full md:w-auto">
				{navLinks.map((link) => (
					<li>
						<a
							href={link.href}
							class="block py-3 px-4 md:py-2 md:px-0 text-base md:text-lg text-white hover:text-gold-600 font-medium transition-colors rounded-lg md:rounded-none hover:bg-dark-800 md:hover:bg-transparent"
						>
							{link.label}
						</a>
					</li>
				))}
			</ul>
		</div>
	</div>
</nav>

<script>
	// Hamburger menu toggle functionality
	const menuToggle = document.getElementById('menu-toggle');
	const menu = document.getElementById('menu');

	if (menuToggle && menu) {
		menuToggle.addEventListener('click', () => {
			const isOpen = menu.classList.contains('hidden');

			// Toggle menu visibility
			if (isOpen) {
				menu.classList.remove('hidden');
				menuToggle.setAttribute('aria-expanded', 'true');
			} else {
				menu.classList.add('hidden');
				menuToggle.setAttribute('aria-expanded', 'false');
			}

			// Animate hamburger icon to X
			const spans = menuToggle.querySelectorAll('span');
			if (isOpen) {
				// Move lines to center and rotate symmetrically (gap-1.5 = 6px + h-0.5 = 2px)
				spans[0].style.transform = 'translateY(8px) rotate(45deg)';
				spans[1].style.opacity = '0';
				spans[2].style.transform = 'translateY(-8px) rotate(-45deg)';
			} else {
				spans[0].style.transform = '';
				spans[1].style.opacity = '1';
				spans[2].style.transform = '';
			}
		});

		// Close menu when clicking on a link (mobile)
		const menuLinks = menu.querySelectorAll('a');
		menuLinks.forEach(link => {
			link.addEventListener('click', () => {
				if (window.innerWidth < 768) {
					menu.classList.add('hidden');
					menuToggle.setAttribute('aria-expanded', 'false');

					// Reset hamburger icon
					const spans = menuToggle.querySelectorAll('span');
					spans[0].style.transform = '';
					spans[1].style.opacity = '1';
					spans[2].style.transform = '';
				}
			});
		});
	}
</script>
